<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Lesson 18 Driving LEDs by 74HC595" href="lesson_18_driving_leds_by_74hc595.html" /><link rel="prev" title="Lesson 16 Servo" href="lesson_16_servo.html" />

    <meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Lesson 17 LCD1602 - SunFounder Electronic Kit 1.0 documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/topHead.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">SunFounder Electronic Kit 1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">SunFounder Electronic Kit 1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="component_list.html">Component List</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="for_rasberrypi_user.html">For Rasberry Pi User</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="preparation/preparation.html">Preparation</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="preparation/installing_the_os.html">Installing the OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="preparation/set_up_your_raspberry_pi.html">Set up Your Raspberry Pi</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_the_code.html">Download the Code</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="lessons.html">Lessons</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lesson_1_blinking_led.html"><strong>Lesson 1 Blinking LED</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_2_flowing_led_lights.html"><strong>Lesson 2 Flowing LED Lights</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_3_breathing_led.html"><strong>Lesson 3 Breathing LED</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_4_rgb_led.html"><strong>Lesson 4 RGB LED</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_5_controlling_led_by_button.html"><strong>Lesson 5 Controlling LED by Button</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_6_tilt_switch.html"><strong>Lesson 6 Tilt Switch</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_7_slide_switch.html"><strong>Lesson 7 Slide Switch</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_8_relay.html"><strong>Lesson 8 Relay</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_9_4n35.html"><strong>Lesson 9 4N35</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_10_active_buzzer.html"><strong>Lesson 10 Active Buzzer</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_11_doorbell.html"><strong>Lesson 11 Doorbell</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_12_passive_buzzer.html"><strong>Lesson 12 Passive Buzzer</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_13_button_piano.html"><strong>Lesson 13 Button Piano</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_14_quiz_buzzer_system.html"><strong>Lesson 14 Quiz Buzzer System</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_15_ne555_timer.html"><strong>Lesson 15 NE555 Timer</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_16_servo.html"><strong>Lesson 16 Servo</strong></a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#"><strong>Lesson 17 LCD1602</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_18_driving_leds_by_74hc595.html"><strong>Lesson 18 Driving LEDs by 74HC595</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_19_7-segment.html"><strong>Lesson 19 7-segment</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_20_traffic_Light.html"><strong>Lesson 20 Traffic Light</strong></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="appendix.html">Appendix</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="remote_desktop.html">Remote Desktop</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="for_arduino_user.html">For Arduino User</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="lesson_1_install_and_introduce_arduino_ide.html"><strong>Lesson 1 Install and Introduce Arduino IDE</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_2_blinking_led.html"><strong>Lesson 2 Blinking LED</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_3_controlling_led_by_button.html"><strong>Lesson 3 Controlling LED by Button</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_4_controlling_an_led_by_potentiometer.html"><strong>Lesson 4 Controlling an LED by Potentiometer</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_5_doorbell.html"><strong>Lesson 5 Doorbell</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_6_Photoresistor.html"><strong>Lesson 6 Photoresistor</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_7_rgb_led.html"><strong>Lesson 7 RGB LED</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_8_tilt_switch.html"><strong>Lesson 8 Tilt Switch</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_9_slide_switch.html"><strong>Lesson 9 Slide Switch</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_10_relay.html"><strong>Lesson 10 Relay</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_11_4n35.html"><strong>Lesson 11 4N35</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_12_ne555_timer.html"><strong>Lesson 12 NE555 Timer</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_13_servo.html"><strong>Lesson 13 Servo</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_14_lcd1602.html"><strong>Lesson 14 LCD1602</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_15_thermistor.html"><strong>Lesson 15 Thermistor</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_16_voltmeter.html"><strong>Lesson 16 Voltmeter</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_17_automatically_tracking_light_source.html"><strong>Lesson 17 Automatically Tracking Light Source</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_18_light_alarm.html"><strong>Lesson 18 Light Alarm</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_19_answer_machine.html"><strong>Lesson 19 Answer Machine</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_20_controlling_voice_by_light.html"><strong>Lesson 20 Controlling Voice by Light</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_21_74HC595.html"><strong>Lesson 21 74HC595</strong></a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="lesson-17-lcd1602">
<h1><strong>Lesson 17 LCD1602</strong><a class="headerlink" href="#lesson-17-lcd1602" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2><strong>Introduction</strong><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this lesson, we will learn how to use an LCD1602 to display
characters and strings. LCD1602, or 1602 character-type liquid crystal
display, is a kind of dot matrix module to show letters, numbers, and
characters and so on. It’s composed of 5x7 or 5x11 dot matrix positions;
each position can display one character. Now let’s check more details!</p>
</div>
<div class="section" id="newly-added-components">
<h2><strong>Newly Added Components</strong><a class="headerlink" href="#newly-added-components" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="_images/image241.png"><img alt="_images/image241.png" class="align-center" src="_images/image241.png" style="width: 800px;"/></a>
</div>
<div class="section" id="principle">
<h2><strong>Principle</strong><a class="headerlink" href="#principle" title="Permalink to this headline">¶</a></h2>
<p>Generally, LCD1602 has parallel ports, that is, it would control several
pins at the same time. LCD1602 can be categorized into eight-port and
four-port connections. If the eight-port connection is used, then all
the digital ports of the Raspberry Pi are almost completely occupied. If
you want to connect more sensors, there will be no ports available.
Therefore, the four-port connection is used here for better
application.</p>
<a class="reference internal image-reference" href="_images/image176.png"><img alt="_images/image176.png" class="align-center" src="_images/image176.png" style="width: 800px;"/></a>
<div class="section" id="pins-of-lcd1602-and-their-functions">
<h3><strong>Pins of LCD1602 and their Functions</strong><a class="headerlink" href="#pins-of-lcd1602-and-their-functions" title="Permalink to this headline">¶</a></h3>
<p><strong>VSS:</strong> connected to ground.</p>
<p><strong>VDD:</strong> connected to a +5V power supply.</p>
<p><strong>VO:</strong> to adjust the contrast.</p>
<p><strong>RS:</strong> A register select pin that controls where in the LCD’s memory
you are writing data to. You can select either the data register, which
holds what goes on the screen, or an instruction register, which is
where the LCD’s controller looks for instructions on what to do next.</p>
<p><strong>R/W:</strong> A Read/Write pin to select between reading and writing mode.</p>
<p><strong>E:</strong> An enabling pin that reads the information when High level (1) is
received. The instructions are run when the signal changes from High
level to Low level.</p>
<p><strong>D0-D7:</strong> to read and write data.</p>
<p><strong>A and K:</strong> Pins that control the LCD backlight. Connect K to GND and A
to 3.3v. Open the backlight and you will see clear characters in a
comparatively dark environment.</p>
</div>
</div>
<div class="section" id="schematic-diagram">
<h2><strong>Schematic Diagram</strong><a class="headerlink" href="#schematic-diagram" title="Permalink to this headline">¶</a></h2>
<p>Connect <strong>K</strong> to <strong>GND</strong> and <strong>A</strong> to <strong>3.3 V</strong>, and then the backlight
of the LCD1602 will be turned on. Connect <strong>VSS</strong> to <strong>GND</strong> and the
<strong>LCD1602</strong> to the power source. Connect <strong>VO</strong> to the middle pin of the
potentiometer - with it you can adjust the contrast of the screen
display. Connect <strong>RS</strong> to <strong>Pin 13</strong> and <strong>R/W</strong> pin to <strong>GND</strong>.
Connect <strong>E</strong> to <strong>Pin 15</strong> and the characters displayed on the LCD1602
are controlled by <strong>D4-D7</strong>. For programming, it is optimized by calling
function libraries.</p>
<a class="reference internal image-reference" href="_images/image242.png"><img alt="_images/image242.png" class="align-center" src="_images/image242.png" style="width: 800px;"/></a>
<a class="reference internal image-reference" href="_images/image259.png"><img alt="_images/image259.png" class="align-center" src="_images/image259.png" style="width: 800px;"/></a>
</div>
<div class="section" id="build-the-circuit">
<h2><strong>Build the Circuit</strong><a class="headerlink" href="#build-the-circuit" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure the pins are connected correctly. Otherwise, characters
will not be displayed properly. You may need to adjust the potentiometer
till the LCD1602 can display clearly.</p>
</div>
<a class="reference internal image-reference" href="_images/image243.png"><img alt="_images/image243.png" class="align-center" src="_images/image243.png" style="width: 800px;"/></a>
</div>
<div class="section" id="for-c-language-users">
<h2><strong>For C Language Users</strong><a class="headerlink" href="#for-c-language-users" title="Permalink to this headline">¶</a></h2>
<div class="section" id="command">
<h3><strong>Command</strong><a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h3>
<p><strong>1.</strong> Go to the folder of the code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">pi</span><span class="o">/</span><span class="n">electronic</span><span class="o">-</span><span class="n">kit</span><span class="o">/</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">c</span><span class="o">/</span><span class="n">Lesson_17_LCD1602</span>
</pre></div>
</div>
<p><strong>2.</strong> Compile the code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gcc</span> <span class="mi">17</span><span class="n">_Lcd1602</span><span class="o">.</span><span class="n">c</span> <span class="o">-</span><span class="n">lwiringPiDev</span> <span class="o">-</span><span class="n">lwiringPi</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In order to use the LCD driver in the wiringPi devLib, you need to use -lwiringPiDev at compile time.</p>
</div>
<p><strong>3.</strong> Run the executable file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">./</span><span class="n">a</span><span class="o">.</span><span class="n">out</span>
</pre></div>
</div>
<p>You may see the “SunFounder” and “hello, world”
appear one by one on the LCD.</p>
</div>
<div class="section" id="code">
<h3><strong>Code</strong><a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span><span class="c1">#include &lt;stdio.h&gt;</span>
<span class="mf">2.</span><span class="c1">#include &lt;stdlib.h&gt;</span>
<span class="mf">3.</span><span class="c1">#include &lt;wiringPi.h&gt;</span>
<span class="mf">4.</span><span class="c1">#include &lt;lcd.h&gt;</span>
<span class="mf">5.</span>
<span class="mf">6.</span><span class="n">const</span> <span class="n">unsigned</span> <span class="n">char</span> <span class="n">Buf</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">"---SUNFOUNDER---"</span><span class="p">;</span>
<span class="mf">7.</span><span class="n">const</span> <span class="n">unsigned</span> <span class="n">char</span> <span class="n">myBuf</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">"  sunfounder.com"</span><span class="p">;</span>
<span class="mf">8.</span>
<span class="mf">9.</span><span class="n">int</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="mf">10.</span><span class="p">{</span>
<span class="mf">11.</span>    <span class="nb">int</span> <span class="n">fd</span><span class="p">;</span>
<span class="mf">12.</span>    <span class="nb">int</span> <span class="n">i</span><span class="p">;</span>
<span class="mf">13.</span>
<span class="mf">14.</span>    <span class="k">if</span><span class="p">(</span><span class="n">wiringPiSetup</span><span class="p">()</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
<span class="mf">15.</span>        <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="mf">16.</span>    <span class="p">}</span>
<span class="mf">17.</span>
<span class="mf">18.</span>    <span class="n">fd</span> <span class="o">=</span> <span class="n">lcdInit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span> <span class="o">//</span><span class="n">see</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">lcd</span><span class="o">.</span><span class="n">h</span>
<span class="mf">19.</span>    <span class="n">printf</span><span class="p">(</span><span class="s2">"</span><span class="si">%d</span><span class="s2">"</span><span class="p">,</span> <span class="n">fd</span><span class="p">);</span>
<span class="mf">20.</span>    <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
<span class="mf">21.</span>        <span class="n">printf</span><span class="p">(</span><span class="s2">"lcdInit 1 failed</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
<span class="mf">22.</span>        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="mf">23.</span>    <span class="p">}</span>
<span class="mf">24.</span>
<span class="mf">25.</span>    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="mf">26.</span>    <span class="n">lcdClear</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
<span class="mf">27.</span>    <span class="n">lcdPosition</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="mf">28.</span>    <span class="n">lcdPuts</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="s2">"Welcome To---&gt;"</span><span class="p">);</span>
<span class="mf">29.</span>    <span class="n">lcdPosition</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="mf">30.</span>    <span class="n">lcdPuts</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="s2">"sunfounder.com"</span><span class="p">);</span>
<span class="mf">31.</span>    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
<span class="mf">32.</span>    <span class="n">lcdClear</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
<span class="mf">33.</span>
<span class="mf">34.</span>    <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">){</span>
<span class="mf">35.</span>        <span class="n">lcdClear</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
<span class="mf">36.</span>        <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">16</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="mf">37.</span>            <span class="n">lcdPosition</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="mf">38.</span>            <span class="n">lcdPutchar</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">myBuf</span><span class="o">+</span><span class="n">i</span><span class="p">));</span>
<span class="mf">39.</span>            <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="mf">40.</span>        <span class="p">}</span>
<span class="mf">41.</span>        <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">sizeof</span><span class="p">(</span><span class="n">Buf</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="mf">42.</span>            <span class="n">lcdPosition</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="mf">43.</span>            <span class="n">lcdPutchar</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">Buf</span><span class="o">+</span><span class="n">i</span><span class="p">));</span>
<span class="mf">44.</span>            <span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="mf">45.</span>        <span class="p">}</span>
<span class="mf">46.</span>        <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
<span class="mf">47.</span>    <span class="p">}</span>
<span class="mf">48.</span>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="mf">49.</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="code-explanation">
<h3><strong>Code Explanation</strong><a class="headerlink" href="#code-explanation" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">4.</span>   <span class="c1">#include &lt;lcd.h&gt;</span>
</pre></div>
</div>
<p>This is a library that integrates lcd1602 functional functions,
in which functions are defined such as lcdClear(), lcdPosition(),
lcdPuts(), and so on. These functions can be called directly after
importing into the library.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">18.</span> <span class="n">fd</span> <span class="o">=</span> <span class="n">lcdInit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span> <span class="o">//</span><span class="n">see</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">lcd</span><span class="o">.</span><span class="n">h</span>
<span class="mf">19.</span>    <span class="n">printf</span><span class="p">(</span><span class="s2">"</span><span class="si">%d</span><span class="s2">"</span><span class="p">,</span> <span class="n">fd</span><span class="p">);</span>
<span class="mf">20.</span>    <span class="k">if</span> <span class="p">(</span><span class="n">fd</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
<span class="mf">21.</span>        <span class="n">printf</span><span class="p">(</span><span class="s2">"lcdInit 1 failed</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
<span class="mf">22.</span>     <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</div>
<p>Initialize the lcd1602. The prototype of lcdInit() is as follows:</p>
<p>int lcdInit (int rows, int cols, int bits, int rs, int strb,
int d0, int d1, int d2, int d3, int d4, int d5, int d6, int d7) ;</p>
<p>This is the main initialisation function and must be called
before you use any other LCD functions.
Rows and cols are the rows and columns on the display
(e.g. 2, 16 or 4,20). Bits is the number of bits wide on the interface
(4 or 8). The rs and strb represent the pin numbers of the display RS
pin and Strobe (E) pin. The parameters d0 through d7 are the pin
numbers of the 8 data pins connected from the Pi to the display.
Only the first 4 are used if you are running the display in 4-bit mode.</p>
<p>The return value is the ‘handle’ to be used for all subsequent calls to
the lcd library when dealing with that LCD, or -1 to indicate a fault.
(Usually incorrect parameters)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">26.</span>    <span class="n">lcdClear</span><span class="p">(</span><span class="n">fd</span><span class="p">);</span>
</pre></div>
</div>
<p>This function is used to clear the lcd screen. After
calling this function, all information displayed on the screen will be cleared.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">27.</span> <span class="n">lcdPosition</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
<p>Set the position of the cursor at row 0 and col 0
(in fact it’s the first line and first column) for
subsequent text entry.</p>
<p>The prototype of lcdpostion function is as follows:
lcdPosition (int handle, int x, int y) ;</p>
<p>Set the position of the cursor for subsequent text entry.
x is the column and 0 is the left-most edge. y is the line
and 0 is the top line.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">28.</span>    <span class="n">lcdPuts</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="s2">"Welcome To---&gt;"</span><span class="p">);</span>
</pre></div>
</div>
<p>Display “Welcome To—&gt;” at the specified location of LCD1602.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">36.</span>        <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">16</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="mf">37.</span>            <span class="n">lcdPosition</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="mf">38.</span>            <span class="n">lcdPutchar</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="o">*</span><span class="p">(</span><span class="n">myBuf</span><span class="o">+</span><span class="n">i</span><span class="p">));</span>
<span class="mf">39.</span>            <span class="n">delay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
<span class="mf">40.</span>        <span class="p">}</span>
</pre></div>
</div>
<p>Use the lcdPosition() function to place the cursor
at col i and row 0(the top line ) for subsequent text
entry. Then the characters in the array myBuf [] are
displayed one by one to the LCD1602.</p>
<p>*is the address of myBuf, the real address
of characters stored in memory. After calling lcdPutchar(fd, <a href="#id1"><span class="problematic" id="id2">*</span></a>(myBuf+ I)),
the program will find the real address of the character, read the information
stored in the address, and display it on the LCD screen.</p>
</div>
</div>
<div class="section" id="for-python-language-users">
<h2><strong>For Python Language Users</strong><a class="headerlink" href="#for-python-language-users" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3><strong>Command</strong><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><strong>1.</strong> Go to the folder of the code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">pi</span><span class="o">/</span><span class="n">electronic</span><span class="o">-</span><span class="n">kit</span><span class="o">/</span><span class="k">for</span><span class="o">-</span><span class="n">raspberry</span><span class="o">-</span><span class="n">pi</span><span class="o">/</span><span class="n">python</span>
</pre></div>
</div>
<p><strong>2.</strong> Run the code.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">python3</span> <span class="mi">17</span><span class="n">_Lcd1602</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>You may see the “SunFounder” and “hello, world” appear one by one on the
LCD.</p>
</div>
<div class="section" id="id4">
<h3><strong>Code</strong><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="mf">2.</span>
<span class="mf">3.</span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="mf">4.</span>    <span class="k">global</span> <span class="n">lcd</span>
<span class="mf">5.</span>    <span class="n">lcd</span> <span class="o">=</span> <span class="n">LCD</span><span class="p">()</span>
<span class="mf">6.</span>    <span class="n">line0</span> <span class="o">=</span> <span class="s2">"  sunfounder.com"</span>
<span class="mf">7.</span>    <span class="n">line1</span> <span class="o">=</span> <span class="s2">"---SUNFOUNDER---"</span>
<span class="mf">8.</span>
<span class="mf">9.</span>    <span class="n">lcd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="mf">10.</span>    <span class="n">lcd</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="s2">"Welcome to ---&gt;</span><span class="se">\n</span><span class="s2">  sunfounder.com"</span><span class="p">)</span>
<span class="mf">11.</span>    <span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="mf">12.</span>
<span class="mf">13.</span>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="mf">14.</span>        <span class="n">lcd</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="mf">15.</span>        <span class="n">lcd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="mf">16.</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">line0</span><span class="p">)):</span>
<span class="mf">17.</span>            <span class="n">lcd</span><span class="o">.</span><span class="n">setCursor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="mf">18.</span>            <span class="n">lcd</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="n">line0</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="mf">19.</span>            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="mf">20.</span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">line1</span><span class="p">)):</span>
<span class="mf">21.</span>            <span class="n">lcd</span><span class="o">.</span><span class="n">setCursor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="mf">22.</span>            <span class="n">lcd</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="n">line1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="mf">23.</span>            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="mf">24.</span>        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="mf">25.</span>
<span class="mf">26.</span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
<span class="mf">27.</span>    <span class="k">try</span><span class="p">:</span>
<span class="mf">28.</span>        <span class="n">main</span><span class="p">()</span>
<span class="mf">29.</span>    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
<span class="mf">30.</span>        <span class="n">lcd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">lcd</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because the source code contains so many definitions, we only list
few code here. Please download the complete code from the address marked
in the document.</p>
</div>
</div>
<div class="section" id="id5">
<h3><strong>Code Explanation</strong><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">6.</span>     <span class="n">line0</span> <span class="o">=</span> <span class="s2">"  sunfounder.com"</span>
<span class="mf">7.</span>     <span class="n">line1</span> <span class="o">=</span> <span class="s2">"---SUNFOUNDER---"</span>
</pre></div>
</div>
<p>Define 2 lines of characters that will be displayed on the LCD 1602.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">10.</span>    <span class="n">lcd</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="s2">"Welcome to ---&gt;</span><span class="se">\n</span><span class="s2">  sunfounder.com"</span><span class="p">)</span>
</pre></div>
</div>
<p>On LCD1602, “Welcome to —&gt;n  sunfounder.com” pops up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">15.</span>        <span class="n">lcd</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes the LCD screen and specifies the dimensions
(width and height) of the display. begin() function needs
to be called before any other LCD library commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">16.</span>        <span class="n">lcd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</pre></div>
</div>
<p>This function is used to clear the lcd screen. After
calling this function, all information displayed on
the screen will be cleared.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">18.</span>            <span class="n">lcd</span><span class="o">.</span><span class="n">setCursor</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the position of the cursor at col i and row
0 (the first line) for subsequent text entry.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">19.</span>            <span class="n">lcd</span><span class="o">.</span><span class="n">message</span><span class="p">(</span><span class="n">line0</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
<p>The characters in the array line0[] will be displayed
at the specified location one by one.</p>
</div>
</div>
<div class="section" id="phenomenon-picture">
<h2><strong>Phenomenon Picture</strong><a class="headerlink" href="#phenomenon-picture" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="_images/image179.jpeg"><img alt="_images/image179.jpeg" class="align-center" src="_images/image179.jpeg" style="width: 800px;"/></a>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="lesson_18_driving_leds_by_74hc595.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><strong>Lesson 18 Driving LEDs by 74HC595</strong></div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="lesson_16_servo.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><strong>Lesson 16 Servo</strong></div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, sunfounder
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/lesson_17_lcd1602.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><strong>Lesson 17 LCD1602</strong></a><ul>
<li><a class="reference internal" href="#introduction"><strong>Introduction</strong></a></li>
<li><a class="reference internal" href="#newly-added-components"><strong>Newly Added Components</strong></a></li>
<li><a class="reference internal" href="#principle"><strong>Principle</strong></a><ul>
<li><a class="reference internal" href="#pins-of-lcd1602-and-their-functions"><strong>Pins of LCD1602 and their Functions</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#schematic-diagram"><strong>Schematic Diagram</strong></a></li>
<li><a class="reference internal" href="#build-the-circuit"><strong>Build the Circuit</strong></a></li>
<li><a class="reference internal" href="#for-c-language-users"><strong>For C Language Users</strong></a><ul>
<li><a class="reference internal" href="#command"><strong>Command</strong></a></li>
<li><a class="reference internal" href="#code"><strong>Code</strong></a></li>
<li><a class="reference internal" href="#code-explanation"><strong>Code Explanation</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#for-python-language-users"><strong>For Python Language Users</strong></a><ul>
<li><a class="reference internal" href="#id3"><strong>Command</strong></a></li>
<li><a class="reference internal" href="#id4"><strong>Code</strong></a></li>
<li><a class="reference internal" href="#id5"><strong>Code Explanation</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#phenomenon-picture"><strong>Phenomenon Picture</strong></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="https://ezblock.cc/readDocFile/topHead.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>