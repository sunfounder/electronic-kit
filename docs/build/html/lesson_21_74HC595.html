<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Lesson 20 Controlling Voice by Light" href="lesson_20_controlling_voice_by_light.html" />

    <meta name="generator" content="sphinx-3.5.4, furo 2021.04.11.beta34"/>
        <title>Lesson 21 74HC595 - SunFounder Electronic Kit 1.0 documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="https://ezblock.cc/readDocFile/topHead.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">SunFounder Electronic Kit 1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">SunFounder Electronic Kit 1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="component_list.html">Component List</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="for_rasberrypi_user.html">For Rasberry Pi User</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="preparation/preparation.html">Preparation</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="preparation/installing_the_os.html">Installing the OS</a></li>
<li class="toctree-l3"><a class="reference internal" href="preparation/set_up_your_raspberry_pi.html">Set up Your Raspberry Pi</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="libraries.html">Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_the_code.html">Download the Code</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="lessons.html">Lessons</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="lesson_1_blinking_led.html"><strong>Lesson 1 Blinking LED</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_2_flowing_led_lights.html"><strong>Lesson 2 Flowing LED Lights</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_3_breathing_led.html"><strong>Lesson 3 Breathing LED</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_4_rgb_led.html"><strong>Lesson 4 RGB LED</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_5_controlling_led_by_button.html"><strong>Lesson 5 Controlling LED by Button</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_6_tilt_switch.html"><strong>Lesson 6 Tilt Switch</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_7_slide_switch.html"><strong>Lesson 7 Slide Switch</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_8_relay.html"><strong>Lesson 8 Relay</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_9_4n35.html"><strong>Lesson 9 4N35</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_10_active_buzzer.html"><strong>Lesson 10 Active Buzzer</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_11_doorbell.html"><strong>Lesson 11 Doorbell</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_12_passive_buzzer.html"><strong>Lesson 12 Passive Buzzer</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_13_button_piano.html"><strong>Lesson 13 Button Piano</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_14_quiz_buzzer_system.html"><strong>Lesson 14 Quiz Buzzer System</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_15_ne555_timer.html"><strong>Lesson 15 NE555 Timer</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_16_servo.html"><strong>Lesson 16 Servo</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_17_lcd1602.html"><strong>Lesson 17 LCD1602</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_18_driving_leds_by_74hc595.html"><strong>Lesson 18 Driving LEDs by 74HC595</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_19_7-segment.html"><strong>Lesson 19 7-segment</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson_20_traffic_Light.html"><strong>Lesson 20 Traffic Light</strong></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="appendix.html">Appendix</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="remote_desktop.html">Remote Desktop</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="for_arduino_user.html">For Arduino User</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lesson_1_install_and_introduce_arduino_ide.html"><strong>Lesson 1 Install and Introduce Arduino IDE</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_2_blinking_led.html"><strong>Lesson 2 Blinking LED</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_3_controlling_led_by_button.html"><strong>Lesson 3 Controlling LED by Button</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_4_controlling_an_led_by_potentiometer.html"><strong>Lesson 4 Controlling an LED by Potentiometer</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_5_doorbell.html"><strong>Lesson 5 Doorbell</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_6_Photoresistor.html"><strong>Lesson 6 Photoresistor</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_7_rgb_led.html"><strong>Lesson 7 RGB LED</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_8_tilt_switch.html"><strong>Lesson 8 Tilt Switch</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_9_slide_switch.html"><strong>Lesson 9 Slide Switch</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_10_relay.html"><strong>Lesson 10 Relay</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_11_4n35.html"><strong>Lesson 11 4N35</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_12_ne555_timer.html"><strong>Lesson 12 NE555 Timer</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_13_servo.html"><strong>Lesson 13 Servo</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_14_lcd1602.html"><strong>Lesson 14 LCD1602</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_15_thermistor.html"><strong>Lesson 15 Thermistor</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_16_voltmeter.html"><strong>Lesson 16 Voltmeter</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_17_automatically_tracking_light_source.html"><strong>Lesson 17 Automatically Tracking Light Source</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_18_light_alarm.html"><strong>Lesson 18 Light Alarm</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_19_answer_machine.html"><strong>Lesson 19 Answer Machine</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson_20_controlling_voice_by_light.html"><strong>Lesson 20 Controlling Voice by Light</strong></a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#"><strong>Lesson 21 74HC595</strong></a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="lesson-21-74hc595">
<h1><strong>Lesson 21 74HC595</strong><a class="headerlink" href="#lesson-21-74hc595" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2><strong>Introduction</strong><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Generally, there are two ways to drive a single 7-segment display. One
way is to connect its 8 pins directly to eight ports on the Uno board.
Or you can connect the 74HC595 to three ports of the Uno board and then
the 7- segment display to the 74HC595. In this experiment, we will use
the latter. By this way, we can save five ports – considering the Uno
board’s limited ports, this is very important. Now let’s get started!</p>
</div>
<div class="section" id="components">
<h2><strong>Components</strong><a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="_images/image171.png"><img alt="_images/image171.png" class="align-center" src="_images/image171.png" style="width: 800px;"/></a>
<a class="reference internal image-reference" href="_images/image202.png"><img alt="_images/image202.png" class="align-center" src="_images/image202.png" style="width: 800px;"/></a>
</div>
<div class="section" id="experimental-principle">
<h2><strong>Experimental Principle</strong><a class="headerlink" href="#experimental-principle" title="Permalink to this headline">¶</a></h2>
<div class="section" id="segment-display">
<h3><strong>7-Segment Display</strong><a class="headerlink" href="#segment-display" title="Permalink to this headline">¶</a></h3>
<p>A 7-segment display is an 8-shaped component which packages 7 LEDs. Each
LED is called a segment – when energized, one segment forms part of a
numeral (both decimal and hexadecimal) to be displayed. An additional
8th LED is sometimes used within the same package thus allowing the
indication of a decimal point (DP) when two or more 7-segment displays
are connected together to display numbers greater than ten.</p>
<a class="reference internal image-reference" href="_images/image1631.jpeg"><img alt="_images/image1631.jpeg" class="align-center" src="_images/image1631.jpeg" style="width: 150px;"/></a>
<p>Each of the LEDs in the display is given a positional segment with one
of its connection pins led out from the rectangular plastic package.
These LED pins are labeled from “a” through to “g” representing each
individual LED. The other LED pins are connected together forming a
common pin. So by forward biasing the appropriate pins of the LED
segments in a particular order, some segments will brighten and others
stay dim, thus showing the corresponding character on the display.</p>
<p>The common pin of the display generally tells its type. There are two
types of pin connection: a pin of connected cathodes and one of
connected anodes, indicating Common Cathode (CC) and Common Anode (CA).
As the name suggests, a CC display has all the cathodes of the 7 LEDs
connected when a CA display has all the anodes of the 7 segments
connected.</p>
</div>
<div class="section" id="common-cathode-7-segment-display">
<h3><strong>Common Cathode 7-Segment Display</strong><a class="headerlink" href="#common-cathode-7-segment-display" title="Permalink to this headline">¶</a></h3>
<p>In a common cathode display, the cathodes of all the LED segments are
connected to the logic “0” or ground. Then an individual segment (a-g)
is energized by a “HIGH”, or logic “1” signal via a current limiting
resistor to forward bias the anode of the segment.</p>
<a class="reference internal image-reference" href="_images/image164.jpeg"><img alt="_images/image164.jpeg" class="align-center" src="_images/image164.jpeg" style="width: 800px;"/></a>
</div>
<div class="section" id="common-anode-7-segment-display">
<h3><strong>Common Anode 7-Segment Display</strong><a class="headerlink" href="#common-anode-7-segment-display" title="Permalink to this headline">¶</a></h3>
<p>In a common anode display, the anodes of all the LED segments are
connected to the logic “1”. Then an individual segment (a-g) is
energized by a ground, logic “0” or “LOW” signal via a current limiting
resistor to the cathode of the segment.</p>
<a class="reference internal image-reference" href="_images/image165.jpeg"><img alt="_images/image165.jpeg" class="align-center" src="_images/image165.jpeg" style="width: 400px;"/></a>
</div>
<div class="section" id="hc595">
<h3><strong>74HC595</strong><a class="headerlink" href="#hc595" title="Permalink to this headline">¶</a></h3>
<p>The 74HC595 consists of an 8−bit shift register and a storage register
with three−state parallel outputs. It converts serial input into
parallel output so you can save IO ports of an MCU.</p>
<p>When MR (pin10) is high level and OE (pin13) is low level, data is input
in the rising edge of SHcp and goes to the memory register through the
rising edge of SHcp. If the two clocks are connected together, the shift
register is always one pulse earlier than the memory register. There is
a serial shift input pin (Ds), a serial output pin (Q) and an
asynchronous reset button (low level) in the memory register. The memory
register outputs a Bus with a parallel 8-bit and in three states. When
OE is enabled (low level), the data in memory register is output to the
bus.</p>
<a class="reference internal image-reference" href="_images/image166.png"><img alt="_images/image166.png" class="align-center" src="_images/image166.png" style="width: 800px;"/></a>
<p><strong>Pins of 74HC595 and their functions</strong>:</p>
<p><strong>Q0-Q7</strong>: 8-bit parallel data output pins, able to control 8 LEDs or 8
pins of 7-segment display directly.</p>
<p><strong>Q7’</strong>: Series output pin, connected to DS of another 74HC595 to
connect multiple 74HC595s in series</p>
<p><strong>MR</strong>: Reset pin, active at low level; here it is directly connected to
5V.</p>
<p><strong>SHcp</strong>: Time sequence input of shift register. On the rising edge, the
data in shift register moves successively one bit, i.e. data in Q1 moves
to Q2, and so forth. While on the falling edge, the data in shift
register remain unchanged.</p>
<p><strong>STcp</strong>: Time sequence input of storage register. On the rising edge,
data in the shift register moves into memory register.</p>
<p><strong>OE</strong>: Output enable pin, active at low level. Here connected to GND.</p>
<p><strong>DS</strong>: Serial data input pin</p>
<p><strong>VCC</strong>: Positive supply voltage</p>
<p><strong>GND</strong>: Ground</p>
</div>
<div class="section" id="principle">
<h3><strong>Principle:</strong><a class="headerlink" href="#principle" title="Permalink to this headline">¶</a></h3>
<p>In the experiment MR (pin10) is connected to 5V (HIGH Level) and OE (pin
13) to GND (LOW Level). Therefore, the data is input into the rising
edge of SHcp and enters the memory register through the rising edge. We
use the shiftout() function to output a 8-bit data to the shift register
through DS. In the rising edge of the SHcp, the data in the shift
register moves successively one bit in one time, i.e. data in Q1 moves
to Q2, and so forth. In the rising edge of STcp, data in the shift
register moves into the memory register. All data will be moved to the
memory register after 8 times. Then the data in the memory register is
output to the bus (Q0-Q7). So the 16 characters are displayed in the
7-segment in turn.</p>
<p>The schematic diagram:</p>
<a class="reference internal image-reference" href="_images/image212.png"><img alt="_images/image212.png" class="align-center" src="_images/image212.png" style="width: 800px;"/></a>
</div>
</div>
<div class="section" id="experimental-procedures">
<h2><strong>Experimental Procedures</strong><a class="headerlink" href="#experimental-procedures" title="Permalink to this headline">¶</a></h2>
<p><strong>Step 1:</strong> Build the circuit (pay attention to the direction
of the chip by the concave on it)</p>
<img alt="_images/image203.png" class="align-center" src="_images/image203.png"/>
<p><strong>Step 2:</strong> Open the code file.</p>
<p><strong>Step 3:</strong> Select the <strong>Board</strong> and <strong>Port.</strong></p>
<p><strong>Step 4:</strong> Upload the sketch to the board.</p>
<p>You should now see the 7-segment display from 0 to 9 and A to F.</p>
<a class="reference internal image-reference" href="_images/image169.jpeg"><img alt="_images/image169.jpeg" class="align-center" src="_images/image169.jpeg" style="width: 800px;"/></a>
</div>
<div class="section" id="code">
<h2><strong>Code</strong><a class="headerlink" href="#code" title="Permalink to this headline">¶</a></h2>
<iframe frameborder="0" src="https://create.arduino.cc/editor/sunfounder01/42eb9580-b03f-45ae-87e0-c447d20170a8/preview?embed" style="height:510px;width:100%;margin:10px 0"></iframe><div class="section" id="code-analysis-21-1-set-the-array-elements">
<h3><strong>Code Analysis</strong> <strong>21-1</strong> <strong>Set the array elements</strong><a class="headerlink" href="#code-analysis-21-1-set-the-array-elements" title="Permalink to this headline">¶</a></h3>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="kr">int</span> <span class="n">datArray</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">252</span><span class="p">,</span> <span class="mi">96</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="mi">242</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">182</span><span class="p">,</span> <span class="mi">190</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">254</span><span class="p">,</span> <span class="mi">246</span><span class="p">,</span>
<span class="mi">238</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">122</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">142</span><span class="p">};</span>
</pre></div>
</div>
<p>This array stores the data of the 16 characters from 0 to F. 218 stands
for 2, which you can calculate by yourself. To display 2, the segment f
and c of the 7-segment display must be low level (dim).</p>
<p>Since the segment f and c are connected to Q2 and Q5 of the 74HC595, set
both Q0, Q2 and Q5 (the dot) as low level and leave the rest pins as
high level. Therefore, the values of Q7 Q6 Q5 Q4 Q3 Q2 Q1 Q0 are 1 1 0 1
1 0 1 0.</p>
<p>Change the binary numbers into decimal ones:
1x2<sup>7</sup>+1x2<sup>6</sup>+0x2<sup>5</sup>+1x2<sup>4</sup>+1x2<sup>3</sup>+0x2<sup>2</sup>+1x2<sup>1</sup>+0x2<sup>0</sup>=218.</p>
<a class="reference internal image-reference" href="_images/image1701.jpeg"><img alt="_images/image1701.jpeg" class="align-center" src="_images/image1701.jpeg" style="width: 150px;"/></a>
<p>So that’s the value for the number <strong>2</strong> to be displayed. You can
calculate other characters similarly.</p>
</div>
<div class="section" id="code-analysis-21-2-display-0-f-in-the-7-segment-display">
<h3><strong>Code Analysis</strong> <strong>21-2</strong> <strong>Display 0-F in the 7-segment display</strong><a class="headerlink" href="#code-analysis-21-2-display-0-f-in-the-7-segment-display" title="Permalink to this headline">¶</a></h3>
<div class="highlight-arduino notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kr">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="n">num</span><span class="o">++</span><span class="p">)</span>

<span class="p">{</span>

    <span class="nf">digitalWrite</span><span class="p">(</span><span class="n">STcp</span><span class="p">,</span><span class="kr">LOW</span><span class="p">);</span> <span class="c1">//ground ST_CP and hold low for as long as you</span>
    <span class="n">are</span> <span class="n">transmitting</span>

    <span class="nf">shiftOut</span><span class="p">(</span><span class="n">DS</span><span class="p">,</span><span class="n">SHcp</span><span class="p">,</span><span class="n">MSBFIRST</span><span class="p">,</span><span class="n">datArray</span><span class="p">[</span><span class="n">num</span><span class="p">]);</span>

    <span class="c1">//return the latch pin high to signal chip that it</span>

    <span class="c1">//no longer needs to listen for information</span>

    <span class="nf">digitalWrite</span><span class="p">(</span><span class="n">STcp</span><span class="p">,</span><span class="kr">HIGH</span><span class="p">);</span> <span class="c1">//pull the ST_CPST_CP to save the data</span>

    <span class="nf">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span> <span class="c1">//wait for a second</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Set <em>STcp</em> as low level first and then high level. It will generate a
rising edge pulse of STcp.</p>
<p><strong>shiftOut()</strong> is used to shift out a byte of data one bit at a time,
which means to shift a byte of data in <em>dataArray[num]</em> to the shifting
register with the DS pin. <em>MSBFIRST</em> means to move from high bits.</p>
<p>After <em>digitalWrite(STcp,HIGH)</em> is run, the STcp will be at the rising
edge. At this time, the data in the shift register will be moved to the
memory register.</p>
<p>A byte of data will be transferred into the memory register after 8
times. Then the data of memory register is output to the bus (Q0-Q7).
You will see a character is displayed on the 7-segment. Then delay for
1000ms. After that line, go back to <em>for()</em>. The loop repeats until all
the characters are displayed in the 7-segment display one by one after
16 times.</p>
</div>
</div>
<div class="section" id="copyright-notice">
<h2><strong>Copyright Notice</strong><a class="headerlink" href="#copyright-notice" title="Permalink to this headline">¶</a></h2>
<p>All contents including but not limited to texts, images, and code in
this manual are owned by the SunFounder Company. You should only use it
for personal study, investigation, enjoyment, or other non-commercial or
nonprofit purposes, under the related regulations and copyrights laws,
without infringing the legal rights of the author and relevant right
holders. For any individual or organization that uses these for
commercial profit without permission, the Company reserves the right to
take legal action.</p>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="lesson_20_controlling_voice_by_light.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title"><strong>Lesson 20 Controlling Voice by Light</strong></div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2021, sunfounder
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/lesson_21_74HC595.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#"><strong>Lesson 21 74HC595</strong></a><ul>
<li><a class="reference internal" href="#introduction"><strong>Introduction</strong></a></li>
<li><a class="reference internal" href="#components"><strong>Components</strong></a></li>
<li><a class="reference internal" href="#experimental-principle"><strong>Experimental Principle</strong></a><ul>
<li><a class="reference internal" href="#segment-display"><strong>7-Segment Display</strong></a></li>
<li><a class="reference internal" href="#common-cathode-7-segment-display"><strong>Common Cathode 7-Segment Display</strong></a></li>
<li><a class="reference internal" href="#common-anode-7-segment-display"><strong>Common Anode 7-Segment Display</strong></a></li>
<li><a class="reference internal" href="#hc595"><strong>74HC595</strong></a></li>
<li><a class="reference internal" href="#principle"><strong>Principle:</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#experimental-procedures"><strong>Experimental Procedures</strong></a></li>
<li><a class="reference internal" href="#code"><strong>Code</strong></a><ul>
<li><a class="reference internal" href="#code-analysis-21-1-set-the-array-elements"><strong>Code Analysis</strong> <strong>21-1</strong> <strong>Set the array elements</strong></a></li>
<li><a class="reference internal" href="#code-analysis-21-2-display-0-f-in-the-7-segment-display"><strong>Code Analysis</strong> <strong>21-2</strong> <strong>Display 0-F in the 7-segment display</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#copyright-notice"><strong>Copyright Notice</strong></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="https://ezblock.cc/readDocFile/topHead.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>